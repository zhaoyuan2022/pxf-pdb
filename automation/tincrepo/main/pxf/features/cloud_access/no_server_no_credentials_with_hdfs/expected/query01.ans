-- start_ignore
-- end_ignore
-- @description query01 for PXF test for cloud access where no server and no credentials are specified running alongside an HDFS setup
--
-- start_matchsubs
--
-- # create a match/subs
--
-- m/HINT:  Ensure that.*/
-- s|HINT:  Ensure that.*|HINT:  Ensure that 'server-dir' includes only the configuration files for profile 's3a'. Check the PXF logs located in the 'logs-dir' directory on host 'mdw' or 'set client_min_messages=LOG' for additional details.|
--
-- m/DETAIL/
-- s/DETAIL/CONTEXT/
--
-- m/pxf:\/\/(.*)\/pxf_automation_data/
-- s/pxf:\/\/.*PROFILE/pxf:\/\/pxf_automation_data?PROFILE/
--
-- m/CONTEXT:.*line.*/
-- s/line \d* of //g
--
-- end_matchsubs
SELECT *  FROM cloudaccess_no_server_no_credentials_with_hdfs;
ERROR:  PXF server error : profile 's3a' is not compatible with server's 'default' configuration ('hdfs')
-- start_ignore
HINT:  Ensure that 'server-dir' includes only the configuration files for profile 's3a'. Check the PXF logs located in the 'logs-dir' directory on host 'mdw' or 'set client_min_messages=LOG' for additional details.
-- end_ignore
DETAIL:  External table cloudaccess_no_server_no_credentials_with_hdfs, file pxf://pxf_automation_data?PROFILE=s3:text
